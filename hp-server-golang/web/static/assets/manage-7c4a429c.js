import{u as f}from"./userInfo-b8e9852a.js";import{_ as x,n as p,z as m,a,o as h,q as y,w as e,d as t,b as n,f as s,t as S,m as b,p as D,g as L}from"./index-f3b1a191.js";import{_ as M}from"./logo-back-e24fd493.js";const N={data(){return{userInfo:{},theme:"dark",selectedKey:this.$route.path,username:"John Doe",isCollapsed:!1}},mounted(){var o=f.getUserInfo();o&&o.expTime>Date.parse(new Date)?this.userInfo=o:(p.open({message:"校验异常",description:"未获取到登录信息，请重新登录"}),m.push("/home/login"))},methods:{handleLoginOut(){f.removeUserInfo(),p.open({message:"退出成功"}),m.push("/")},handleMenuClick({key:o}){o==="logout"&&this.handleLoginOut()},handleMenuSelect({key:o}){this.selectedKey=o},collapsedTrigger(o){this.isCollapsed=!this.isCollapsed}},watch:{$route(){this.selectedKey=this.$route.path}}},K=o=>(D("data-v-0938c3f9"),o=o(),L(),o),O=K(()=>n("div",{class:"logo"},[n("a",{href:"/",style:{color:"#ffffff"}},[n("img",{src:M,style:{width:"45px"}}),s("HP-Lite内网穿透")])],-1)),T={class:"user"},V={class:"name"},B={class:"user-mini"};function U(o,i,q,z,c,r){const l=a("a-menu-item"),u=a("a-menu"),g=a("a-dropdown"),k=a("a-layout-header"),d=a("router-link"),v=a("a-layout-sider"),C=a("router-view"),I=a("a-layout-content"),_=a("a-layout");return h(),y(_,{id:"layout"},{default:e(()=>[t(k,{class:"header"},{default:e(()=>[O,n("div",T,[t(g,{trigger:"click"},{overlay:e(()=>[t(u,{slot:"overlay",onClick:r.handleMenuClick},{default:e(()=>[t(l,{key:"logout"},{default:e(()=>[s("退出登录")]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[n("span",V,S(c.userInfo.email),1)]),_:1})]),n("div",B,[n("span",{onClick:i[0]||(i[0]=(...w)=>r.handleLoginOut&&r.handleLoginOut(...w))},"退出")])]),_:1}),t(_,null,{default:e(()=>[t(v,{style:{"background-color":"#4b6ff6"},width:130,"collapsed-width":0,breakpoint:"md",collapsible:"",collapsed:c.isCollapsed,onCollapse:r.collapsedTrigger,class:"sider"},{default:e(()=>[t(u,{style:{"background-color":"#4b6ff6"},theme:c.theme,mode:"inline","default-selected-keys":[c.selectedKey],onSelect:r.handleMenuSelect},{default:e(()=>[c.userInfo&&c.userInfo.role==="ADMIN"?(h(),y(l,{key:"user"},{default:e(()=>[t(d,{to:"/client/user"},{default:e(()=>[s("穿透用户")]),_:1})]),_:1})):b("",!0),t(l,{key:"device"},{default:e(()=>[t(d,{to:"/client/device"},{default:e(()=>[s("穿透设备")]),_:1})]),_:1}),t(l,{key:"domain"},{default:e(()=>[t(d,{to:"/client/domain"},{default:e(()=>[s("穿透域名")]),_:1})]),_:1}),t(l,{key:"config"},{default:e(()=>[t(d,{to:"/client/config"},{default:e(()=>[s("穿透配置")]),_:1})]),_:1}),t(l,{key:"monitor"},{default:e(()=>[t(d,{to:"/client/monitor"},{default:e(()=>[s("穿透监控")]),_:1})]),_:1}),t(l,{key:"teach"},{default:e(()=>[t(d,{to:"/client/teach"},{default:e(()=>[s("穿透说明")]),_:1})]),_:1})]),_:1},8,["theme","default-selected-keys","onSelect"])]),_:1},8,["collapsed","onCollapse"]),t(I,{class:"content"},{default:e(()=>[t(C)]),_:1})]),_:1})]),_:1})}const P=x(N,[["render",U],["__scopeId","data-v-0938c3f9"]]);export{P as default};
