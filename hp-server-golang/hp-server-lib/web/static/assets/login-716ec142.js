import{s as w}from"./http-e687649d.js";import{u as d}from"./userInfo-b8e9852a.js";import{_ as x,u as b,r as y,g as I,h as U,o as B,c as N,a as u,b as t,w as a,e as n,f as V,n as k}from"./index-5c2911ba.js";function q(p){return w({url:"/user/login",method:"post",data:p})}const C={class:"login-page"},D={class:"login-container"},T={class:"login-box"},E={__name:"login",setup(p){const _=b(),l=y(!1),s=I({email:"",password:""});U(()=>{let e=d.getUserInfo();e&&e.expTime>Date.parse(new Date)&&_.push("/client")});const c=()=>{console.log("---表单数据---",s),l.value=!0,q(s).then(e=>{l.value=!1,e.code===200&&(k.open({message:e.msg}),d.setUserInfo(e.data),_.push("/client"))}).catch(e=>{l.value=!1})};return(e,o)=>{const m=n("a-input"),i=n("a-form-item"),f=n("a-input-password"),g=n("a-button"),v=n("a-form"),h=n("a-spin");return B(),N("div",C,[u("div",D,[u("div",T,[o[3]||(o[3]=u("h1",{class:"logo"},"HP-Lite 内网穿透",-1)),t(h,{spinning:l.value},{default:a(()=>[t(v,{model:s,onFinish:c},{default:a(()=>[t(i,{label:"账号",name:"email",rules:[{required:!0,message:"账号必填"}]},{default:a(()=>[t(m,{value:s.email,"onUpdate:value":o[0]||(o[0]=r=>s.email=r),placeholder:"请输入账号"},null,8,["value"])]),_:1}),t(i,{label:"密码",name:"password",rules:[{required:!0,message:"密码必填"}]},{default:a(()=>[t(f,{value:s.password,"onUpdate:value":o[1]||(o[1]=r=>s.password=r),placeholder:"请输入密码"},null,8,["value"])]),_:1}),t(i,{style:{"text-align":"center"}},{default:a(()=>[t(g,{style:{width:"50%"},type:"primary","html-type":"submit"},{default:a(()=>o[2]||(o[2]=[V("登录")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])])])}}},M=x(E,[["__scopeId","data-v-1f457dcc"]]);export{M as default};
