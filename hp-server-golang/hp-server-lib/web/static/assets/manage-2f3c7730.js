import{u as f}from"./userInfo-b8e9852a.js";import{_ as S,n as p,q as m,a as s,o as h,s as y,w as e,d as t,b as n,f as a,t as g,j as b,p as N,g as D}from"./index-f9e88132.js";import{_ as L}from"./logo-back-e24fd493.js";const M={data(){return{userInfo:{},theme:"dark",selectedKey:this.$route.path,username:"John Doe",isCollapsed:!1}},mounted(){var o=f.getUserInfo();o&&o.expTime>Date.parse(new Date)?this.userInfo=o:(p.open({message:"校验异常",description:"未获取到登录信息，请重新登录"}),m.push("/home/login"))},methods:{handleLoginOut(){f.removeUserInfo(),p.open({message:"退出成功"}),m.push("/")},handleMenuClick({key:o}){o==="logout"&&this.handleLoginOut()},handleMenuSelect({key:o}){this.selectedKey=o},collapsedTrigger(o){this.isCollapsed=!this.isCollapsed}},watch:{$route(){this.selectedKey=this.$route.path}}},O=o=>(N("data-v-9d2552a4"),o=o(),D(),o),T=O(()=>n("div",{class:"logo"},[n("a",{href:"/",style:{color:"#ffffff"}},[n("img",{src:L,style:{width:"45px"}}),a("HP-Lite内网穿透")])],-1)),K={class:"user"},V={class:"name"},B={style:{"margin-left":"10px"},class:"name"},U={class:"user-mini"};function A(o,i,H,j,l,r){const c=s("a-menu-item"),_=s("a-menu"),k=s("a-dropdown"),v=s("a-layout-header"),d=s("router-link"),I=s("a-layout-sider"),C=s("router-view"),w=s("a-layout-content"),u=s("a-layout");return h(),y(u,{id:"layout"},{default:e(()=>[t(v,{class:"header"},{default:e(()=>[T,n("div",K,[t(k,{trigger:"click"},{overlay:e(()=>[t(_,{slot:"overlay",onClick:r.handleMenuClick},{default:e(()=>[t(c,{key:"logout"},{default:e(()=>[a("退出登录")]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[n("span",V,g(l.userInfo.email),1)]),_:1}),n("span",B,g(l.userInfo.auth==="NO_AUTH"?"未认证":"已认证"),1)]),n("div",U,[n("span",{onClick:i[0]||(i[0]=(...x)=>r.handleLoginOut&&r.handleLoginOut(...x))},"退出")])]),_:1}),t(u,null,{default:e(()=>[t(I,{style:{"background-color":"#4b6ff6"},width:130,"collapsed-width":0,breakpoint:"md",collapsible:"",collapsed:l.isCollapsed,onCollapse:r.collapsedTrigger,class:"sider"},{default:e(()=>[t(_,{style:{"background-color":"#4b6ff6"},theme:l.theme,mode:"inline","default-selected-keys":[l.selectedKey],onSelect:r.handleMenuSelect},{default:e(()=>[l.userInfo&&l.userInfo.role==="ADMIN"?(h(),y(c,{key:"user"},{default:e(()=>[t(d,{to:"/client/user"},{default:e(()=>[a("穿透用户")]),_:1})]),_:1})):b("",!0),t(c,{key:"device"},{default:e(()=>[t(d,{to:"/client/device"},{default:e(()=>[a("穿透设备")]),_:1})]),_:1}),t(c,{key:"domain"},{default:e(()=>[t(d,{to:"/client/domain"},{default:e(()=>[a("穿透域名")]),_:1})]),_:1}),t(c,{key:"config"},{default:e(()=>[t(d,{to:"/client/config"},{default:e(()=>[a("穿透配置")]),_:1})]),_:1}),t(c,{key:"monitor"},{default:e(()=>[t(d,{to:"/client/monitor"},{default:e(()=>[a("穿透监控")]),_:1})]),_:1}),t(c,{key:"teach"},{default:e(()=>[t(d,{to:"/client/teach"},{default:e(()=>[a("穿透教程")]),_:1})]),_:1})]),_:1},8,["theme","default-selected-keys","onSelect"])]),_:1},8,["collapsed","onCollapse"]),t(w,{class:"content"},{default:e(()=>[t(C)]),_:1})]),_:1})]),_:1})}const z=S(M,[["render",A],["__scopeId","data-v-9d2552a4"]]);export{z as default};
