import{u as f}from"./userInfo-b8e9852a.js";import{_ as S,n as p,q as m,a as s,o as h,s as y,w as e,d as t,b as a,f as l,t as g,j as b,p as N,g as D}from"./index-16371ab8.js";import{_ as L}from"./logo-back-e24fd493.js";const M={data(){return{userInfo:{},theme:"dark",selectedKey:this.$route.path,username:"John Doe",isCollapsed:!1}},mounted(){var o=f.getUserInfo();o&&o.expTime>Date.parse(new Date)?this.userInfo=o:(p.open({message:"校验异常",description:"未获取到登录信息，请重新登录"}),m.push("/home/login"))},methods:{handleLoginOut(){f.removeUserInfo(),p.open({message:"退出成功"}),m.push("/")},handleMenuClick({key:o}){o==="logout"&&this.handleLoginOut()},handleMenuSelect({key:o}){this.selectedKey=o},collapsedTrigger(o){this.isCollapsed=!this.isCollapsed}},watch:{$route(){this.selectedKey=this.$route.path}}},O=o=>(N("data-v-427f15e9"),o=o(),D(),o),T=O(()=>a("div",{class:"logo"},[a("a",{href:"/",style:{color:"#ffffff"}},[a("img",{src:L,style:{width:"45px"}}),l("HP-Lite内网穿透")])],-1)),K={class:"user"},V={class:"name"},B={style:{"margin-left":"10px"},class:"name"},U={class:"user-mini"};function A(o,i,H,j,n,d){const c=s("a-menu-item"),_=s("a-menu"),k=s("a-dropdown"),v=s("a-layout-header"),r=s("router-link"),I=s("a-layout-sider"),C=s("router-view"),w=s("a-layout-content"),u=s("a-layout");return h(),y(u,{id:"layout"},{default:e(()=>[t(v,{class:"header"},{default:e(()=>[T,a("div",K,[t(k,{trigger:"click"},{overlay:e(()=>[t(_,{slot:"overlay",onClick:d.handleMenuClick},{default:e(()=>[t(c,{key:"logout"},{default:e(()=>[l("退出登录")]),_:1})]),_:1},8,["onClick"])]),default:e(()=>[a("span",V,g(n.userInfo.email),1)]),_:1}),a("span",B,g(n.userInfo.auth==="NO_AUTH"?"未认证":"已认证"),1)]),a("div",U,[a("span",{onClick:i[0]||(i[0]=(...x)=>d.handleLoginOut&&d.handleLoginOut(...x))},"退出")])]),_:1}),t(u,null,{default:e(()=>[t(I,{style:{"background-color":"#4b6ff6"},width:130,"collapsed-width":0,breakpoint:"md",collapsible:"",collapsed:n.isCollapsed,onCollapse:d.collapsedTrigger,class:"sider"},{default:e(()=>[t(_,{style:{"background-color":"#4b6ff6"},theme:n.theme,mode:"inline","default-selected-keys":[n.selectedKey],onSelect:d.handleMenuSelect},{default:e(()=>[n.userInfo&&n.userInfo.role==="ADMIN"?(h(),y(c,{key:"user"},{default:e(()=>[t(r,{to:"/client/user"},{default:e(()=>[l("穿透用户")]),_:1})]),_:1})):b("",!0),t(c,{key:"device"},{default:e(()=>[t(r,{to:"/client/device"},{default:e(()=>[l("穿透设备")]),_:1})]),_:1}),t(c,{key:"config"},{default:e(()=>[t(r,{to:"/client/config"},{default:e(()=>[l("穿透配置")]),_:1})]),_:1}),t(c,{key:"monitor"},{default:e(()=>[t(r,{to:"/client/monitor"},{default:e(()=>[l("穿透监控")]),_:1})]),_:1}),t(c,{key:"teach"},{default:e(()=>[t(r,{to:"/client/teach"},{default:e(()=>[l("穿透教程")]),_:1})]),_:1})]),_:1},8,["theme","default-selected-keys","onSelect"])]),_:1},8,["collapsed","onCollapse"]),t(w,{class:"content"},{default:e(()=>[t(C)]),_:1})]),_:1})]),_:1})}const z=S(M,[["render",A],["__scopeId","data-v-427f15e9"]]);export{z as default};
