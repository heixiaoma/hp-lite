import{u as f}from"./userInfo-b8e9852a.js";import{_ as b,n as m,m as p,o as y,p as g,w as e,e as n,b as t,a as l,f as a,t as h,i as N}from"./index-5c2911ba.js";import{_ as D}from"./logo-back-e24fd493.js";const L={data(){return{userInfo:{},theme:"dark",selectedKey:this.$route.path,username:"John Doe",isCollapsed:!1}},mounted(){var s=f.getUserInfo();s&&s.expTime>Date.parse(new Date)?this.userInfo=s:(m.open({message:"校验异常",description:"未获取到登录信息，请重新登录"}),p.push("/home/login"))},methods:{handleLoginOut(){f.removeUserInfo(),m.open({message:"退出成功"}),p.push("/")},handleMenuClick({key:s}){s==="logout"&&this.handleLoginOut()},handleMenuSelect({key:s}){this.selectedKey=s},collapsedTrigger(s){this.isCollapsed=!this.isCollapsed}},watch:{$route(){this.selectedKey=this.$route.path}}},M={class:"user"},O={class:"name"},S={style:{"margin-left":"10px"},class:"name"},T={class:"user-mini"};function K(s,o,V,B,d,u){const r=n("a-menu-item"),_=n("a-menu"),k=n("a-dropdown"),v=n("a-layout-header"),i=n("router-link"),C=n("a-layout-sider"),I=n("router-view"),w=n("a-layout-content"),c=n("a-layout");return y(),g(c,{id:"layout"},{default:e(()=>[t(v,{class:"header"},{default:e(()=>[o[2]||(o[2]=l("div",{class:"logo"},[l("a",{href:"/",style:{color:"#ffffff"}},[l("img",{src:D,style:{width:"45px"}}),a("HP-Lite内网穿透")])],-1)),l("div",M,[t(k,{trigger:"click"},{overlay:e(()=>[t(_,{slot:"overlay",onClick:u.handleMenuClick},{default:e(()=>[t(r,{key:"logout"},{default:e(()=>o[1]||(o[1]=[a("退出登录")])),_:1})]),_:1},8,["onClick"])]),default:e(()=>[l("span",O,h(d.userInfo.email),1)]),_:1}),l("span",S,h(d.userInfo.auth==="NO_AUTH"?"未认证":"已认证"),1)]),l("div",T,[l("span",{onClick:o[0]||(o[0]=(...x)=>u.handleLoginOut&&u.handleLoginOut(...x))},"退出")])]),_:1}),t(c,null,{default:e(()=>[t(C,{style:{"background-color":"#4b6ff6"},width:130,"collapsed-width":0,breakpoint:"md",collapsible:"",collapsed:d.isCollapsed,onCollapse:u.collapsedTrigger,class:"sider"},{default:e(()=>[t(_,{style:{"background-color":"#4b6ff6"},theme:d.theme,mode:"inline","default-selected-keys":[d.selectedKey],onSelect:u.handleMenuSelect},{default:e(()=>[d.userInfo&&d.userInfo.role==="ADMIN"?(y(),g(r,{key:"user"},{default:e(()=>[t(i,{to:"/client/user"},{default:e(()=>o[3]||(o[3]=[a("穿透用户")])),_:1})]),_:1})):N("",!0),t(r,{key:"device"},{default:e(()=>[t(i,{to:"/client/device"},{default:e(()=>o[4]||(o[4]=[a("穿透设备")])),_:1})]),_:1}),t(r,{key:"domain"},{default:e(()=>[t(i,{to:"/client/domain"},{default:e(()=>o[5]||(o[5]=[a("穿透域名")])),_:1})]),_:1}),t(r,{key:"config"},{default:e(()=>[t(i,{to:"/client/config"},{default:e(()=>o[6]||(o[6]=[a("穿透配置")])),_:1})]),_:1}),t(r,{key:"monitor"},{default:e(()=>[t(i,{to:"/client/monitor"},{default:e(()=>o[7]||(o[7]=[a("穿透监控")])),_:1})]),_:1}),t(r,{key:"teach"},{default:e(()=>[t(i,{to:"/client/teach"},{default:e(()=>o[8]||(o[8]=[a("穿透教程")])),_:1})]),_:1})]),_:1},8,["theme","default-selected-keys","onSelect"])]),_:1},8,["collapsed","onCollapse"]),t(w,{class:"content"},{default:e(()=>[t(I)]),_:1})]),_:1})]),_:1})}const J=b(L,[["render",K],["__scopeId","data-v-9d2552a4"]]);export{J as default};
