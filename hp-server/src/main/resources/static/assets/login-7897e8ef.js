import{s as w}from"./http-36ece172.js";import{u as _}from"./userInfo-b8e9852a.js";import{_ as x,u as b,r as y,h as I,i as S,o as U,c as B,a as d,b as o,w as s,e as n,f as N,p as V,g as k,n as q}from"./index-1cd0fe57.js";function C(a){return w({url:"/user/login",method:"post",data:a})}const D=a=>(V("data-v-eddae949"),a=a(),k(),a),T={class:"login-page"},E={class:"login-container"},F={class:"login-box"},H=D(()=>d("h1",{class:"logo"},"HP-Lite 内网穿透",-1)),L={__name:"login",setup(a){const u=b(),l=y(!1),t=I({email:"",password:""});S(()=>{let e=_.getUserInfo();e&&e.expTime>Date.parse(new Date)&&u.push("/client")});const c=()=>{console.log("---表单数据---",t),l.value=!0,C(t).then(e=>{l.value=!1,e.code===200&&(q.open({message:e.msg}),_.setUserInfo(e.data),u.push("/client"))}).catch(e=>{l.value=!1})};return(e,i)=>{const m=n("a-input"),r=n("a-form-item"),f=n("a-input-password"),g=n("a-button"),v=n("a-form"),h=n("a-spin");return U(),B("div",T,[d("div",E,[d("div",F,[H,o(h,{spinning:l.value},{default:s(()=>[o(v,{model:t,onFinish:c},{default:s(()=>[o(r,{label:"账号",name:"email",rules:[{required:!0,message:"账号必填"}]},{default:s(()=>[o(m,{value:t.email,"onUpdate:value":i[0]||(i[0]=p=>t.email=p),placeholder:"请输入账号"},null,8,["value"])]),_:1}),o(r,{label:"密码",name:"password",rules:[{required:!0,message:"密码必填"}]},{default:s(()=>[o(f,{value:t.password,"onUpdate:value":i[1]||(i[1]=p=>t.password=p),placeholder:"请输入密码"},null,8,["value"])]),_:1}),o(r,{style:{"text-align":"center"}},{default:s(()=>[o(g,{style:{width:"50%"},type:"primary","html-type":"submit"},{default:s(()=>[N("登录")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["spinning"])])])])}}},$=x(L,[["__scopeId","data-v-eddae949"]]);export{$ as default};
